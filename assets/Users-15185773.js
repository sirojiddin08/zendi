import{m as Le,u as Ge,r as m,s as Oe,C as ze,o as Ee,a as y,w as A,f as h,x as Je,b as c,c as v,g as a,i as d,n as r,G as _,t as o,j as k,k as R,l as g,y as Ke}from"./index-aae41fd2.js";const Ze={class:"grid"},Ye={class:"col-12"},He={class:"card"},Qe=a("i",{class:"pi pi-upload mr-1"},null,-1),We={class:"grid gap-3 ml-2 py-3"},Xe={class:"col-3 p-0",style:{width:"220px"}},xe={for:"regions",class:"mb-3"},et={class:"col-3 p-0",style:{width:"220px"}},tt={for:"dictrict",class:"mb-3"},lt={class:"col-3 p-0",style:{width:"220px"}},at={for:"role",class:"mb-3"},st={class:"col-3 p-0",style:{width:"220px"}},ot={for:"position",class:"mb-3"},it={class:"col-3 p-0",style:{width:"220px",display:"flex","flex-direction":"column"}},dt={for:"online",class:"mb-3"},nt=a("i",{class:"pi pi-plus mr-1"},null,-1),ut={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},rt={class:"m-0"},ct={class:"text-center"},vt=a("span",{class:"p-column-title"},"id",-1),pt=a("span",{class:"p-column-title"},"fio",-1),mt=a("span",{class:"p-column-title"},"Image",-1),_t=a("span",{class:"p-column-title"},"structure",-1),ht=a("span",{class:"p-column-title"},"role",-1),ft=a("span",{class:"p-column-title"},"created_time",-1),gt=a("span",{class:"p-column-title"},"last_active_time",-1),yt=a("span",{class:"p-column-title"},"online",-1),bt={key:0},wt=["onClick"],$t={class:"text-white border-round p-2",style:{background:"#1f4b8387"}},kt=["onClick"],Vt={class:"text-white border-round p-2",style:{background:"#20831f47"}},Ct={key:1},Ut=["onClick"],qt=a("span",{class:"p-column-title"},"Status",-1),It=["onClick"],St=a("i",{class:"pi pi-pencil"},null,-1),Dt=[St],Pt=["onClick"],Tt=a("i",{class:"pi pi-trash mr-1"},null,-1),Bt=[Tt],Mt={class:"p-0"},Ft={class:"field grid"},Nt={class:"col-6"},At={for:"role",class:"mb-3"},Rt=a("span",{style:{color:"#ff5050"}},"*",-1),jt={key:0,class:"p-invalid"},Lt={class:"col-1"},Gt={class:"mb-3"},Ot={class:"mt-2"},zt={key:0,class:"field grid"},Et={class:"col-6"},Jt={for:"name"},Kt={key:0,class:"p-invalid"},Zt={class:"col-6"},Yt={for:"name"},Ht={key:0,class:"p-invalid"},Qt={class:"field grid"},Wt={class:"col-6"},Xt={for:"name"},xt=a("span",{style:{color:"#ff5050"}},"*",-1),el={key:0,class:"p-invalid"},tl={class:"col-6"},ll={for:"sturcture",class:"mb-3"},al=a("span",{style:{color:"#ff5050"}},"*",-1),sl={key:0,class:"p-invalid"},ol={key:1,class:"field grid"},il={class:"col-6"},dl={for:"phone"},nl=a("span",null,"+998",-1),ul={key:0,class:"p-invalid"},rl={class:"col-6"},cl={for:"position",class:"mb-3"},vl={key:2,class:"field grid"},pl={class:"col-6"},ml={for:"rank",class:"mb-3"},_l=a("hr",null,null,-1),hl={key:3,class:"field grid"},fl={class:"col-6"},gl={for:"device",class:"mb-3"},yl=a("span",{style:{color:"#ff5050"}},"*",-1),bl={key:0,class:"p-invalid"},wl={class:"col-6"},$l={for:"car_model_id",class:"mb-3"},kl=a("span",{style:{color:"#ff5050"}},"*",-1),Vl={key:0,class:"p-invalid"},Cl={key:4,class:"field grid"},Ul={class:"col-6"},ql={for:"name"},Il=a("span",{style:{color:"#ff5050"}},"*",-1),Sl={key:0,class:"p-invalid"},Dl={class:"col-6"},Pl={for:"password"},Tl=a("span",{style:{color:"#ff5050"}},"*",-1),Bl={key:0,class:"p-invalid"},Ml={key:5,class:"field grid"},Fl={class:"col-12"},Nl={for:"tqm",class:"mb-3"},Al=a("span",{style:{color:"#ff5050"}},"*",-1),Rl={key:0,class:"p-invalid"},jl=a("hr",null,null,-1),Ll={class:"field"},Gl={for:"photo",class:"mb-3"},Ol={class:"flex flex-wrap justify-content-between align-items-center flex-1 gap-2"},zl={class:"flex gap-2"},El={class:"flex align-items-center justify-content-center flex-column"},Jl={key:1,class:"pi pi-cloud-upload border-2 border-circle p-2 text-2xl text-400 border-400"},Kl={class:"flex align-items-center justify-content-center"},Zl=a("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Yl={key:0},Wl={__name:"Users",setup(Hl){const q=Le(),{t:b,locale:$}=Ge();m(null);const j=m(null),I=m(!1),P=m(!1);m(!1);const f=m(),t=m({}),Y=m(null),H=m(null),p=m(!1),Q=m([]),L=m([]),W=m([]),G=m([]),O=m([]),X=m([]),x=m([]),ee=m([]),u=m({q:"",limit:10,page:0,region:"",distcity:"",role:"",position:""}),T=m(!1),he=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@#$%^&+=!]{8,32}$/,z=Oe(()=>he.test(t.value.password)),fe=e=>{switch(e.uz.toLowerCase()){case"faol":return"success";case"lowstock":return"warning";case"faol emas":return"danger";default:return"info"}},E=m([]);ze(()=>{}),Ee(async()=>{await S();const e=await y.get("/references/structures"),l=await y.get("/references/regions"),i=await y.get("/references/distcity"),w=await y.get("/references/positions"),K=await y.get("/references/ranks"),Z=await y.get("/references/roles"),U=await y.get("/references/car/models");Q.value=await e.data.data,W.value=await l.data,G.value=await i.data,L.value=await w.data.data,X.value=await K.data.data,O.value=await Z.data.data,x.value=await U.data.data});const J=JSON.parse(localStorage.getItem("userData"));async function S(e){try{T.value=!0;let l=`/users?page=${u.value.page+1}&limit=${u.value.limit}`,i=[];u.value.q&&i.push(`q=${u.value.q}`),u.value.region&&i.push(`region=${u.value.region}`),u.value.distcity&&i.push(`distcity=${u.value.distcity}`),u.value.role&&i.push(`role=${u.value.role}`),u.value.position&&i.push(`position=${u.value.position}`),u.value.online&&i.push(`online=${u.value.online}`),i.length>0&&(l+="&"+i.join("&")),E.value=await y.get(l),T.value=!1}catch{T.value=!1}if(e&&e==(J==null?void 0:J.id)){const{data:l}=await y.get(`/users/${e}`);localStorage.setItem("userData",JSON.stringify(l)),localStorage.setItem("isChecked",!0)}}function ge(e){ye(e)}async function ye(e){const l=await y.get(`/references/distcity?region=${e}`);G.value=await l.data}const be=()=>{t.value={firstname:"",structure_id:"",username:"",position_id:null,rank_id:null,password:"",status_id:1},p.value=!1,I.value=!0};A(()=>t.value.role_id,()=>{t.value.role_id==4?f.value=1:f.value=0},{deep:!0}),A(()=>t.value,()=>{var e,l,i,w;((e=t.value)==null?void 0:e.surname)==""&&delete t.value.surname,((l=t.value)==null?void 0:l.lastname)==""&&delete t.value.lastname,((i=t.value)==null?void 0:i.phone)==""&&delete t.value.phone,((w=t.value)==null?void 0:w.device_id)==""&&delete t.value.device_id},{deep:!0}),A(()=>{var e;return(e=t.value)==null?void 0:e.structure_id},async()=>{var e,l;if((e=t.value)!=null&&e.structure_id){const i=await y.get(`/references/tqm/${(l=t.value)==null?void 0:l.structure_id}`);ee.value=await i.data.data}},{deep:!0}),A(()=>u.value,async()=>{var e,l;(((e=u.value.q)==null?void 0:e.length)>2||((l=u.value.q)==null?void 0:l.length)==0)&&S()},{deep:!0});function we(e){u.value.page=e.page,u.value.limit=e.rows,S()}const $e=()=>{I.value=!1,p.value=!1},ke=async()=>{var e,l;if(p.value=!0,!(t.value.surname&&t.value.surname.length<3)&&!(t.value.lastname&&t.value.lastname.length<3)&&!(t.value.phone&&t.value.phone.length!=9)&&!(f.value&&((e=t.value)!=null&&e.device_id)&&t.value.device_id.length!=16)&&!(f.value&&!((l=t.value)!=null&&l.car_model_id))&&!(f.value&&!t.value.tqm_id)&&!(!f.value&&t.value.username.length<4)&&!(!f.value&&!z.value)&&t.value.firstname.length>2&&t.value.structure_id){const i=new FormData;if(i.append("firstname",t.value.firstname),i.append("structure_id",t.value.structure_id),t.value.surname&&i.append("surname",t.value.surname),t.value.lastname&&i.append("lastname",t.value.lastname),t.value.position_id&&i.append("position_id",t.value.position_id),t.value.rank_id&&i.append("rank_id",t.value.rank_id),t.value.role_id&&i.append("role_id",t.value.role_id),t.value.phone&&i.append("phone","+998"+t.value.phone.replace(/\s+/g,"")),j.value.files[0]&&i.append("file",j.value.files[0]),i.append("status_id",t.value.status_id),f.value?(i.append("device_id",t.value.device_id),i.append("car_model_id",t.value.car_model_id),i.append("tqm_id",t.value.tqm_id)):(i.append("username",t.value.username),i.append("password",t.value.password)),t.value.id)try{await y.put(`/users/update/${t.value.id}?device=${f.value?"yes":"no"}`,i),S(t.value.id),q.add({severity:"success",summary:b("status"),detail:b("success"),life:3e3}),I.value=!1,t.value={}}catch{q.add({severity:"error",summary:b("status"),detail:b("error"),life:3e3})}else try{await y.post(`/users/create?device=${f.value?"yes":"no"}`,i),S(),q.add({severity:"success",summary:b("status"),detail:b("success"),life:3e3}),I.value=!1,t.value={}}catch{q.add({severity:"error",summary:b("status"),detail:b("error"),life:3e3})}}},Ve=async e=>{var i,w;const l=await y.get(`/users/${e.id}`);t.value=l.data,t.value.phone=(w=(i=l.data)==null?void 0:i.phone)==null?void 0:w.replace(/\+998/,"").replace(/\D/g,""),f.value=l.data.device_id?1:0,I.value=!0},Ce=e=>{t.value.id=e,P.value=!0},Ue=async()=>{try{await y.delete(`/users/${t.value.id}`),P.value=!1,t.value={},q.add({severity:"success",summary:b("status"),detail:b("success"),life:3e3}),S()}catch{q.add({severity:"error",summary:b("status"),detail:b("error"),life:3e3})}},qe=()=>{H.value.exportCSV()};async function B(e){try{navigator&&navigator.clipboard&&navigator.clipboard.writeText?(await navigator.clipboard.writeText(e),q.add({severity:"success",summary:b("copied"),detail:"",life:3e3})):Ie(e)}catch(l){console.error("Failed to copy text: ",l)}}const Ie=e=>{const l=document.createElement("textarea");l.value=e,l.style.position="fixed",l.style.opacity="0",document.body.appendChild(l),l.focus(),l.select();try{const w=document.execCommand("copy")?"successful":"unsuccessful";console.log("Fallback: Copying text command was "+w),q.add({severity:"success",summary:b("device_id_copied"),detail:"",life:3e3})}catch(i){console.error("Fallback: Oops, unable to copy",i)}document.body.removeChild(l)},te=e=>`http://10.100.26.3:8453/api/v1/uploads/users/${e}`;return(e,l)=>{var oe,ie;const i=h("v-select"),w=h("InputSwitch"),K=h("Toolbar"),Z=h("InputIcon"),U=h("InputText"),Se=h("IconField"),V=h("Column"),De=h("Badge"),le=h("Image"),ae=h("Avatar"),Pe=h("Tag"),Te=h("Paginator"),Be=h("DataTable"),Me=h("InputGroupAddon"),Fe=h("InputGroup"),Ne=h("Password"),D=h("Button"),Ae=h("FileUpload"),se=h("Dialog"),Re=Je("tooltip");return c(),v("div",Ze,[a("div",Ye,[a("div",He,[d(K,{class:"mb-4"},{start:r(()=>[a("button",{class:"o-button o-button-secondary mr-2",onClick:l[0]||(l[0]=s=>qe(s))},[Qe,_(" "+o(e.$t("save")),1)]),a("div",We,[a("div",Xe,[a("label",xe,o(e.$t("regions")),1),d(i,{"onUpdate:modelValue":[ge,l[1]||(l[1]=s=>u.value.region=s)],id:"regions",modelValue:u.value.region,options:W.value,label:k($),reduce:s=>s.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])]),a("div",et,[a("label",tt,o(e.$t("districts")),1),d(i,{id:"dictrict",modelValue:u.value.distcity,"onUpdate:modelValue":l[2]||(l[2]=s=>u.value.distcity=s),options:G.value,label:k($),reduce:s=>s.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])]),a("div",lt,[a("label",at,o(e.$t("role")),1),d(i,{id:"role",modelValue:u.value.role,"onUpdate:modelValue":l[3]||(l[3]=s=>u.value.role=s),options:O.value,label:k($),reduce:s=>s.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])]),a("div",st,[a("label",ot,o(e.$t("position")),1),d(i,{id:"position",modelValue:u.value.position,"onUpdate:modelValue":l[4]||(l[4]=s=>u.value.position=s),options:L.value,label:k($),reduce:s=>s.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])]),a("div",it,[a("label",dt,o(e.$t("online")),1),d(w,{modelValue:u.value.online,"onUpdate:modelValue":l[5]||(l[5]=s=>u.value.online=s)},null,8,["modelValue"])])])]),end:r(()=>[a("button",{class:"o-button o-button-success",onClick:be},[nt,_(o(e.$t("add")),1)])]),_:1}),d(Be,{ref_key:"dt",ref:H,value:(ie=(oe=E.value)==null?void 0:oe.data)==null?void 0:ie.data,selection:Y.value,"onUpdate:selection":l[8]||(l[8]=s=>Y.value=s),dataKey:"id",selectionMode:"single",metaKeySelection:!1,loading:T.value},{header:r(()=>[a("div",ut,[a("h5",rt,o(e.$t("users")),1),d(Se,{iconPosition:"left",class:"block mt-2 md:mt-0"},{default:r(()=>[d(Z,{class:"pi pi-search"}),d(U,{class:"w-full sm:w-auto",modelValue:u.value.q,"onUpdate:modelValue":l[6]||(l[6]=s=>u.value.q=s),modelModifiers:{trim:!0},placeholder:e.$t("search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:r(()=>[a("div",ct,o(e.$t("no_data")),1)]),footer:r(()=>{var s,C;return[a("div",Mt,[d(Te,{onPage:we,page:u.value.page,"onUpdate:page":l[7]||(l[7]=M=>u.value.page=M),rows:u.value.limit,rowsPerPageOptions:[10,20,50,100,500],totalRecords:(C=(s=E.value)==null?void 0:s.data)==null?void 0:C.totalData,template:"FirstPageLink PrevPageLink CurrentPageReport NextPageLink LastPageLink RowsPerPageDropdown",currentPageReportTemplate:`{first} - {last} ${e.$t("to")}. ${e.$t("all")}: {totalRecords}`},null,8,["page","rows","totalRecords","currentPageReportTemplate"])])]}),default:r(()=>[d(V,{header:e.$t("№"),headerStyle:"width:14px;"},{body:r(s=>[_(o(s.index+1),1)]),_:1},8,["header"]),d(V,{field:"id",header:e.$t("ID"),sortable:!0,headerStyle:"width:14%; width:10px;"},{body:r(s=>[vt,d(De,{onClick:C=>B(s.data.id),value:s.data.id,severity:"info"},null,8,["onClick","value"])]),_:1},8,["header"]),d(V,{field:"fio",header:e.$t("fio"),sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(s=>[pt,_(" "+o(s.data.lastname)+" "+o(s.data.firstname)+" "+o(s.data.surname),1)]),_:1},8,["header"]),d(V,{header:e.$t("photo"),headerStyle:"width:14%; min-width:1rem;"},{body:r(s=>[mt,s.data.photo?(c(),R(le,{key:0,src:te(s.data.photo),alt:"Image",width:"50",preview:""},null,8,["src"])):g("",!0)]),_:1},8,["header"]),d(V,{field:"structure",header:e.$t("structure"),sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:r(s=>[_t,_(" "+o(s.data.structure[k($)]),1)]),_:1},8,["header"]),d(V,{field:"role",header:e.$t("role"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:r(s=>[ht,_(" "+o(s.data.role[k($)]),1)]),_:1},8,["header"]),d(V,{field:"created_time",header:e.$t("created_time"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:r(s=>[ft,_(" "+o(s.data.created_time),1)]),_:1},8,["header"]),d(V,{field:"last_active_time",header:e.$t("last_active_time"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:r(s=>[gt,_(" "+o(s.data.last_active_time),1)]),_:1},8,["header"]),d(V,{field:"online",header:e.$t("online"),sortable:!0,headerStyle:"width:14%; width:10px;"},{body:r(s=>[yt,s.data.online?(c(),R(ae,{key:0,icon:"pi pi-check",style:{"background-color":"#4ade80",color:"#000"},shape:"circle"})):(c(),R(ae,{key:1,icon:"pi pi-times",style:{"background-color":"#ff0000",color:"#fff"},shape:"circle"}))]),_:1},8,["header"]),d(V,{field:"auth",header:e.$t("auth"),sortable:!0,headerStyle:"width:14%; min-width:18rem;"},{body:r(s=>[s.data.username?(c(),v("div",bt,[a("div",{onClick:C=>B(s.data.username),style:{"line-height":"27px"}},[_(o(e.$t("username"))+": ",1),a("span",$t,o(s.data.username),1)],8,wt),a("div",{onClick:C=>B(s.data.password),style:{"line-height":"27px"},class:"mt-2"},[_(o(e.$t("password"))+": ",1),Ke((c(),v("span",Vt,[_("********* ")])),[[Re,{value:`${s.data.password}`,showDelay:300,hideDelay:300}]])],8,kt)])):(c(),v("div",Ct,[a("span",{onClick:C=>B(s.data.device_id),class:"text-white border-round p-2 text-xs",style:{background:"#4ade80"}},o(e.$t("login_or_device_id")),9,Ut)]))]),_:1},8,["header"]),d(V,{field:"inventoryStatus",header:e.$t("status"),sortable:!0,headerStyle:"width:14%; min-width:1rem;"},{body:r(s=>[qt,d(Pe,{severity:fe(s.data.status)},{default:r(()=>[_(o(s.data.status[k($)]),1)]),_:2},1032,["severity"])]),_:1},8,["header"]),d(V,{header:e.$t("actions"),headerStyle:"min-width:10rem;"},{body:r(s=>[a("button",{class:"o-button o-button-warning mr-2",onClick:C=>Ve(s.data)},Dt,8,It),a("button",{class:"o-button o-button-danger",onClick:C=>Ce(s.data.id)},Bt,8,Pt)]),_:1},8,["header"])]),_:1},8,["value","selection","loading"]),d(se,{visible:I.value,"onUpdate:visible":l[24]||(l[24]=s=>I.value=s),style:{width:"750px"},header:t.value.id?e.$t("edit"):e.$t("add"),modal:!0,class:"p-fluid"},{footer:r(()=>[d(D,{label:e.$t("cancel"),icon:"pi pi-times",class:"text-red-400",text:"",onClick:$e},null,8,["label"]),d(D,{label:e.$t("save"),icon:"pi pi-check",text:"",onClick:ke},null,8,["label"])]),default:r(()=>{var s,C,M,de,ne,ue,re,ce,ve,pe,me,_e;return[a("div",Ft,[a("div",Nt,[a("label",At,[_(o(e.$t("role")),1),Rt]),d(i,{id:"role",autofocus:"",modelValue:t.value.role_id,"onUpdate:modelValue":l[9]||(l[9]=n=>t.value.role_id=n),options:O.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),p.value&&!t.value.role_id?(c(),v("small",jt,o(e.$t("field_required")),1)):g("",!0)]),a("div",Lt,[a("label",Gt,o(e.$t("status")),1),a("div",Ot,[d(w,{modelValue:t.value.status_id,"onUpdate:modelValue":l[10]||(l[10]=n=>t.value.status_id=n),trueValue:1,falseValue:0},null,8,["modelValue"])])])]),f.value?g("",!0):(c(),v("div",zt,[a("div",Et,[a("label",Jt,o(e.$t("surname")),1),d(U,{id:"name",modelValue:t.value.surname,"onUpdate:modelValue":l[11]||(l[11]=n=>t.value.surname=n),modelModifiers:{trim:!0},invalid:p.value&&((s=t.value.surname)==null?void 0:s.length)<3},null,8,["modelValue","invalid"]),p.value&&((C=t.value.surname)==null?void 0:C.length)<3?(c(),v("small",Kt,o(e.$t("min_length"))+" 3",1)):g("",!0)]),a("div",Zt,[a("label",Yt,o(e.$t("lastname")),1),d(U,{id:"name",modelValue:t.value.lastname,"onUpdate:modelValue":l[12]||(l[12]=n=>t.value.lastname=n),modelModifiers:{trim:!0},required:"true",invalid:p.value&&((M=t.value.lastname)==null?void 0:M.length)<3},null,8,["modelValue","invalid"]),p.value&&((de=t.value.lastname)==null?void 0:de.length)<3?(c(),v("small",Ht,o(e.$t("min_length"))+" 3",1)):g("",!0)])])),a("div",Qt,[a("div",Wt,[a("label",Xt,[_(o(f.value?e.$t("plate_number"):e.$t("firstname")),1),xt]),d(U,{id:"name",modelValue:t.value.firstname,"onUpdate:modelValue":l[13]||(l[13]=n=>t.value.firstname=n),modelModifiers:{trim:!0},required:"true",invalid:p.value&&((ne=t.value.firstname)==null?void 0:ne.length)<3},null,8,["modelValue","invalid"]),p.value&&((ue=t.value.firstname)==null?void 0:ue.length)<3?(c(),v("small",el,"1) "+o(e.$t("field_required"))+". 2) "+o(e.$t("min_length"))+" 3",1)):g("",!0)]),a("div",tl,[a("label",ll,[_(o(e.$t("structures")),1),al]),d(i,{id:"sturcture",modelValue:t.value.structure_id,"onUpdate:modelValue":l[14]||(l[14]=n=>t.value.structure_id=n),options:Q.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),p.value&&!t.value.structure_id?(c(),v("small",sl,o(e.$t("field_required")),1)):g("",!0)])]),f.value?g("",!0):(c(),v("div",ol,[a("div",il,[a("label",dl,o(e.$t("phone")),1),d(Fe,null,{default:r(()=>{var n,F;return[d(Me,null,{default:r(()=>[nl]),_:1}),d(U,{id:"phone",type:"number",max:"9",modelValue:t.value.phone,"onUpdate:modelValue":l[15]||(l[15]=N=>t.value.phone=N),invalid:p.value&&((n=t.value.phone)==null?void 0:n.length)>0&&((F=t.value.phone)==null?void 0:F.length)!=9},null,8,["modelValue","invalid"])]}),_:1}),p.value&&((re=t.value.phone)==null?void 0:re.length)>0&&((ce=t.value.phone)==null?void 0:ce.length)!=9?(c(),v("small",ul,o(e.$t("enter_length"))+" 9",1)):g("",!0)]),a("div",rl,[a("label",cl,o(e.$t("position")),1),d(i,{id:"position",modelValue:t.value.position_id,"onUpdate:modelValue":l[16]||(l[16]=n=>t.value.position_id=n),options:L.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])])),f.value?g("",!0):(c(),v("div",vl,[a("div",pl,[a("label",ml,o(e.$t("rank")),1),d(i,{id:"rank",modelValue:t.value.rank_id,"onUpdate:modelValue":l[17]||(l[17]=n=>t.value.rank_id=n),options:X.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])])),_l,f.value?(c(),v("div",hl,[a("div",fl,[a("label",gl,[_(o(e.$t("device_id")),1),yl]),d(U,{id:"device",modelValue:t.value.device_id,"onUpdate:modelValue":l[18]||(l[18]=n=>t.value.device_id=n),modelModifiers:{trim:!0},maxLength:"16",invalid:p.value&&((ve=t.value.device_id)==null?void 0:ve.length)!=16},null,8,["modelValue","invalid"]),p.value&&((pe=t.value.device_id)==null?void 0:pe.length)!=16?(c(),v("small",bl,o(e.$t("enter_length"))+" 16",1)):g("",!0)]),a("div",wl,[a("label",$l,[_(o(e.$t("car_model_id")),1),kl]),d(i,{id:"car_model_id",modelValue:t.value.car_model_id,"onUpdate:modelValue":l[19]||(l[19]=n=>t.value.car_model_id=n),options:x.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),p.value&&!t.value.car_model_id?(c(),v("small",Vl,o(e.$t("field_required")),1)):g("",!0)])])):g("",!0),f.value?(c(),v("div",Ml,[a("div",Fl,[a("label",Nl,[_(o(e.$t("guarding_technic_center")),1),Al]),d(i,{id:"tqm",modelValue:t.value.tqm_id,"onUpdate:modelValue":l[22]||(l[22]=n=>t.value.tqm_id=n),options:ee.value,label:k($),reduce:n=>n.id,placeholder:e.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),p.value&&!t.value.tqm_id?(c(),v("small",Rl,o(e.$t("field_required")),1)):g("",!0)])])):(c(),v("div",Cl,[a("div",Ul,[a("label",ql,[_(o(e.$t("username")),1),Il]),d(U,{id:"name",modelValue:t.value.username,"onUpdate:modelValue":l[20]||(l[20]=n=>t.value.username=n),modelModifiers:{trim:!0},required:"true",invalid:p.value&&((me=t.value.username)==null?void 0:me.length)<4},null,8,["modelValue","invalid"]),p.value&&((_e=t.value.username)==null?void 0:_e.length)<4?(c(),v("small",Sl,"1) "+o(e.$t("field_required"))+" 2) "+o(e.$t("min_length"))+" 4",1)):g("",!0)]),a("div",Dl,[a("label",Pl,[_(o(e.$t("password")),1),Tl]),d(Ne,{id:"password",modelValue:t.value.password,"onUpdate:modelValue":l[21]||(l[21]=n=>t.value.password=n),toggleMask:"",invalid:p.value&&!z.value},null,8,["modelValue","invalid"]),p.value&&!z.value?(c(),v("small",Bl,o(e.$t("correct_password")),1)):g("",!0)])])),jl,a("div",Ll,[a("label",Gl,o(e.$t("photo")),1),d(Ae,{name:"demo[]",ref_key:"image",ref:j,onUpload:l[23]||(l[23]=n=>e.onAdvancedUpload(n)),multiple:!1,accept:"image/*"},{header:r(({chooseCallback:n,clearCallback:F,files:N})=>[a("div",Ol,[a("div",zl,[d(D,{onClick:je=>n(),icon:"pi pi-images",style:{width:"30px",height:"30px"},rounded:"",outlined:""},null,8,["onClick"]),d(D,{onClick:je=>F(),icon:"pi pi-times",rounded:"",outlined:"",style:{width:"30px",height:"30px"},severity:"danger",disabled:!N||N.length===0},null,8,["onClick","disabled"])])])]),empty:r(()=>[a("div",El,[t.value.photo?(c(),R(le,{key:0,src:te(t.value.photo),alt:"Image",width:"150",preview:""},null,8,["src"])):(c(),v("i",Jl))])]),_:1},512)])]}),_:1},8,["visible","header"]),d(se,{visible:P.value,"onUpdate:visible":l[26]||(l[26]=s=>P.value=s),style:{width:"450px"},header:e.$t("confirmation"),modal:!0},{footer:r(()=>[d(D,{label:"No",icon:"pi pi-times",text:"",onClick:l[25]||(l[25]=s=>P.value=!1)}),d(D,{label:"Yes",icon:"pi pi-check",text:"",onClick:Ue})]),default:r(()=>[a("div",Kl,[Zl,t.value?(c(),v("span",Yl,[_(o(e.$t("are_you_sure_to_delete_this_item"))+" ",1),a("b",null,o(t.value.name),1)])):g("",!0)])]),_:1},8,["visible","header"])])])])}}};export{Wl as default};
