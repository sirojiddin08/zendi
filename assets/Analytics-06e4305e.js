import{_ as st,r as i,w as F,s as et,b as p,c as _,g as t,v as j,p as at,q as lt,u as rt,d as ct,o as dt,a as m,f as ot,x as ut,t as c,i as x,j as h,F as w,h as k,y as $,k as I}from"./index-aae41fd2.js";import{E as R}from"./EChartComponent-3f4490b6.js";import"./index-c3a3a22d.js";/* empty css                                                                    */const pt=v=>(at("data-v-7beaf6a5"),v=v(),lt(),v),ht={class:"progressPie"},_t=pt(()=>t("h3",null,null,-1)),vt={__name:"ProgressPie",props:{progress:{type:Number,required:!0},color:{type:Array,default:["deeppink","cyan"]}},setup(v){const S=v,d=i(S.progress);F(()=>S.progress,u=>{d.value=u});const L=et(()=>d.value%360),A=et(()=>({"--ng":`${L.value}deg`,"background-image":`conic-gradient(${S.color[0]}, ${S.color[1]} ${L.value}deg, #b4b4b415 0)`}));return(u,f)=>(p(),_("div",ht,[t("div",{id:"pie",style:j(A.value)},null,4),_t]))}},T=st(vt,[["__scopeId","data-v-7beaf6a5"]]),mt="/assets/alarm-gif-5597aebc.gif",gt="/assets/location-gif-4212fa41.gif",yt="/assets/icons8-map-pinpoint-4a88dadc.gif",bt="/assets/icons8-sand-timer-bf8a52d6.gif";const n=v=>(at("data-v-0dab1195"),v=v(),lt(),v),xt={class:"grid"},ft={class:"col-12 py-0 mt-3"},wt={class:"grid"},kt={class:"md:col-3 col-12",style:{"min-width":"16vw"}},$t={class:"card mb-0 p-0",style:{"min-height":"115px"}},Ct={class:"flex justify-content-between p-3"},St=n(()=>t("span",{class:"block font-medium mb-3"},"O'rtacha kunlik tashvish xabarlar soni",-1)),At={class:"font-medium text-3xl"},Lt=n(()=>t("div",{class:"flex align-items-center justify-content-center border-round"},[t("img",{style:{width:"60px","border-radius":"10%"},src:mt,alt:""})],-1)),Dt={class:"md:col-3 col-12",style:{"min-width":"16vw"}},zt={class:"card mb-0 p-0",style:{"min-height":"115px"}},jt={class:"flex justify-content-between p-3"},Mt=n(()=>t("span",{class:"block font-medium mb-3"},"O'rtacha yetib kelish vaqti",-1)),Vt={class:"font-medium text-3xl"},Ot=n(()=>t("div",{class:"flex align-items-center justify-content-center border-round"},[t("img",{style:{width:"60px","border-radius":"10%"},src:gt,alt:""})],-1)),Et={class:"md:col-3 col-12",style:{"min-width":"16vw"}},qt={class:"card mb-0 p-0",style:{"min-height":"115px"}},It={class:"flex justify-content-between p-3"},Rt=n(()=>t("span",{class:"block font-medium mb-3"},"O'rtacha obyektgacha masofa",-1)),Tt={class:"font-medium text-3xl"},Bt=n(()=>t("div",{class:"flex align-items-center justify-content-center border-round"},[t("img",{style:{width:"60px","border-radius":"10%"},src:yt,alt:""})],-1)),Ft={class:"md:col-3 col-12",style:{"min-width":"16vw"}},Pt={class:"card mb-0 p-0",style:{"min-height":"115px"}},Wt={class:"flex justify-content-between p-3"},Ht=n(()=>t("span",{class:"block font-medium mb-3"},"O'rtacha yoqotilgan vaqt",-1)),Kt={class:"font-medium text-3xl"},Nt=n(()=>t("div",{class:"flex align-items-center justify-content-center border-round"},[t("img",{style:{width:"60px","border-radius":"10%"},src:bt,alt:""})],-1)),Ut={class:"col-12 xl:col-12"},Qt={class:"card pt-3 pb-0"},Gt={class:"grid p-0 m-0 align-items-end"},Jt={class:"col p-0"},Xt={class:"mb"},Yt={for:"structure1"},Zt={class:"col py-0 px-2"},te={class:"mb"},ee={for:"structure1"},oe={class:"col p-0"},se={class:"mb"},ae={for:"structure1"},le={class:"grid p-0 mt-3 mx-0 mb-0"},ie={class:"col-6 card m-0",style:{border:"none"}},ne=n(()=>t("h5",null,"Eng ko'p tashvish xabari tushgan mashinalar",-1)),re={class:"col-6 card m-0",style:{"border-bottom":"none","border-right":"none","border-top":"none"}},ce=n(()=>t("h5",null,"Eng ko'p tashvish xabari rad etgan mashinalar",-1)),de={class:"col-12 card px-0 m-0",style:{"border-bottom":"none","border-right":"none","border-left":"none"}},ue=n(()=>t("h5",null,"Eng ko'p yurgan mashinalar",-1)),pe={class:"grid mt-2",style:{"min-height":"400px"}},he={class:"col-4"},_e=n(()=>t("h5",null,"Eng ko'p tashvish xabari tushayotgan viloyatlar",-1)),ve={class:"flex justify-content-center align-items-center",style:{position:"relative",top:"190px"}},me={class:"grid px-2",style:{"margin-top":"400px"}},ge={class:"card py-1 px-2 flex align-items-center gap-4"},ye=n(()=>t("div",{style:{height:"10px",width:"10px",background:"red","border-radius":"50%"}},null,-1)),be={class:"text-left",style:{overflow:"hidden"}},xe={class:"p-0 m-0"},fe={style:{"white-space":"nowrap"}},we={class:"col-4"},ke=n(()=>t("h5",null,"Eng ko'p tashvish xabari tushayotgan tumanlar",-1)),$e={class:"flex justify-content-center align-items-center",style:{position:"relative",top:"190px"}},Ce={class:"grid px-2",style:{"margin-top":"400px"}},Se={class:"card py-1 px-2 flex align-items-center gap-4"},Ae=n(()=>t("div",null,[t("div",{style:{height:"10px",width:"10px",background:"red","border-radius":"50%"}})],-1)),Le={class:"text-left",style:{overflow:"hidden"}},De={class:"p-0 m-0"},ze={style:{"white-space":"nowrap"}},je={class:"col-4"},Me=n(()=>t("h5",null,"Eng ko'p tashvish xabari tushayotgan TQM lar",-1)),Ve={class:"flex justify-content-center align-items-center",style:{position:"relative",top:"190px"}},Oe={class:"grid px-2",style:{"margin-top":"400px"}},Ee={class:"card py-1 px-2 flex align-items-center gap-4"},qe=n(()=>t("div",null,[t("div",{style:{height:"10px",width:"10px",background:"red","border-radius":"50%"}})],-1)),Ie={class:"text-left",style:{overflow:"hidden"}},Re={class:"p-0 m-0"},Te={style:{"white-space":"nowrap"}},Be=n(()=>t("div",{class:"col-12 xl:col-12"},null,-1)),g=16,B="#00cccc",C="#5d858d",Fe={__name:"Analytics",setup(v){const{t:S,locale:d}=rt(),{isDarkTheme:L}=ct(),A=["rgba(7, 193, 255, 1)","#00CCCC","rgba(40, 167, 69, 1)","rgba(255, 193, 7, 1)","rgba(123, 0, 255, 1)","rgba(69, 167, 40, 1)","rgba(255, 53, 220, 1)","rgba(255, 69, 0, 1)","rgba(167, 40, 69, 1)","rgba(193, 255, 7, 1)","rgba(53, 220, 255, 1)","rgba(220, 53, 69, 1)","rgba(0, 123, 255, 1)","rgba(123, 255, 0, 1)","rgba(40, 69, 167, 1)","rgba(7, 255, 193, 1)","rgba(220, 123, 255, 1)","rgba(69, 255, 123, 1)","rgba(255, 220, 53, 1)","rgba(53, 123, 255, 1)","rgba(255, 167, 40, 1)"],u=i("rgba(255, 255, 255, 0.1)"),f=i(null),P=i(null),W=i(null),M=i(null),V=i(null),O=i(null),E=i(null);i([{id:1},{id:2}]),i([{breakpoint:"1400px",numVisible:1,numScroll:1},{breakpoint:"1199px",numVisible:3,numScroll:1},{breakpoint:"767px",numVisible:1,numScroll:1},{breakpoint:"575px",numVisible:1,numScroll:1}]);const s=i({region:"",distcity:"",period:""}),H=i(),K=i(),it=i([{id:1,uz:"Kunlik",oz:"Kunlik",ru:"Kunlik"},{id:2,uz:"Haftalik",oz:"Haftalik",ru:"Haftalik"},{id:3,uz:"Oylik",oz:"Oylik",ru:"Oylik"}]),D=i({dataset:{source:[["amount","product"]]},grid:{containLabel:!0,bottom:0,top:15,left:0},xAxis:{name:"amount",axisLabel:{fontSize:g,color:C},axisLine:{show:!0,lineStyle:{color:u.value}},splitLine:{show:!0,lineStyle:{color:u.value}}},yAxis:{type:"category",label:{show:!0},axisLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},splitLine:{show:!1},axisLabel:{fontSize:g,color:C}},tooltip:{backgroundColor:"white"},series:[{type:"bar",encode:{x:"amount",y:"product"},itemStyle:{borderRadius:[0,8,8,0],borderWidth:2,borderColor:"none",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:5},barMaxWidth:40,label:{fontSize:g,color:B,show:!0,position:"right"}}]}),z=i({color:"red",dataset:{source:[["amount","product"]]},grid:{containLabel:!0,bottom:0,top:15,left:0},xAxis:{name:"amount",axisLabel:{fontSize:g,color:C},axisLine:{show:!0,lineStyle:{color:u.value}},splitLine:{show:!0,lineStyle:{color:u.value}}},yAxis:{type:"category",label:{show:!0},axisLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},splitLine:{show:!1},axisLabel:{fontSize:g,color:C}},tooltip:{backgroundColor:"white"},series:[{type:"bar",encode:{x:"amount",y:"product"},itemStyle:{borderRadius:[0,8,8,0],borderWidth:2,borderColor:"none",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:5},barMaxWidth:40,label:{fontSize:g,color:B,show:!0,position:"right"}}]}),q=i({color:"green",grid:{containLabel:!0,bottom:0,top:25,right:0,left:0},xAxis:{type:"category",data:[],axisLine:{show:!0,lineStyle:{color:"rgba(255, 255, 255, 0.1)"}},splitLine:{show:!1},axisLabel:{margin:20,rotate:20,fontSize:g,color:C}},yAxis:{type:"value",axisLabel:{fontSize:g,color:C},axisLine:{show:!0,lineStyle:{color:u.value}},splitLine:{show:!0,lineStyle:{color:u.value}}},tooltip:{backgroundColor:"white"},series:[{data:[],type:"bar",itemStyle:{borderRadius:[8,8,0,0],borderWidth:2,borderColor:"none",shadowColor:"rgba(0, 0, 0, 0.5)",shadowBlur:5},barMaxWidth:40,label:{fontSize:g,color:B,show:!0,position:"top",formatter:o=>`${Math.round(o.value)} km`}}]});dt(async()=>{await nt(),N(),U(),Q(),G(),J(),X();const o=await m.get("/references/regions"),a=await m.get("/references/distcity");H.value=await o.data,K.value=await a.data});async function N(){const{data:o}=await m.get(`/analytics/most-alarmed-cars?region=${s.value.region}&distcity=${s.value.distcity}&period=${s.value.period}`);P.value=o;const a=P.value.map(r=>[r.count,r.plate_number]);a.unshift(["amount","product"]),D.value.dataset.source=a}async function U(){const{data:o}=await m.get(`/analytics/most-alarm-rejected-cars?region=${s.value.region}&distcity=${s.value.distcity}&period=${s.value.period}`);W.value=o;const a=W.value.map(r=>[r.count,r.plate_number]);a.unshift(["amount","product"]),z.value.dataset.source=a}async function Q(){const{data:o}=await m.get(`/analytics/most-travelled-cars?region=${s.value.region}&distcity=${s.value.distcity}&period=${s.value.period}`);M.value=o;const a=M.value.map(r=>r.plate_number);q.value.xAxis.data=a,q.value.series[0].data=M.value.map(r=>r.total_distance_km.split(" ")[0])}async function G(){const{data:o}=await m.get(`/analytics/most-alarmed-regions?period=${s.value.period}`);let a=400;const b=.9/Math.max(...o.map(l=>l.count));V.value=o.map((l,y)=>({...l,color:A[y],width:a-30,chartCircleArea:l.count*b*360}))}async function J(){const{data:o}=await m.get(`/analytics/most-alarmed-distcity?region=${s.value.region}&period=${s.value.period}`);let a=400;const b=.9/Math.max(...o.map(l=>l.count));O.value=o.map((l,y)=>({...l,color:A[y],width:a-30,chartCircleArea:l.count*b*360}))}async function X(){const{data:o}=await m.get(`/analytics/most-alarmed-tqm?region=${s.value.region}&distcity=${s.value.distcity}&period=${s.value.period}`);let a=400;const b=.9/Math.max(...o.map(l=>l.count));E.value=o.map((l,y)=>({...l,color:A[y],width:a-30,chartCircleArea:l.count*b*360}))}async function nt(){const{data:o}=await m.get("/analytics/totals");f.value=o}return F(()=>s.value,o=>{N(),U(),Q(),G(),J(),X()},{deep:!0}),F(()=>L,o=>{u.value=o?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)",D.value.xAxis.axisLine.lineStyle.color=u.value,D.value.xAxis.splitLine.lineStyle.color=u.value,z.value.xAxis.axisLine.lineStyle.color=u.value,z.value.xAxis.splitLine.lineStyle.color=u.value},{deep:!0}),(o,a)=>{var y,Y,Z,tt;const r=ot("v-select"),b=ot("Divider"),l=ut("tooltip");return p(),_("div",xt,[t("div",ft,[t("div",wt,[t("div",kt,[t("div",$t,[t("div",Ct,[t("div",null,[St,t("div",At,[t("p",null,c((y=f.value)==null?void 0:y.avg_alarms_per_day),1)])]),Lt])])]),t("div",Dt,[t("div",zt,[t("div",jt,[t("div",null,[Mt,t("div",Vt,[t("p",null,c((Y=f.value)==null?void 0:Y.avg_arrived_time.split(".")[0])+" "+c(o.$t("minut")),1)])]),Ot])])]),t("div",Et,[t("div",qt,[t("div",It,[t("div",null,[Rt,t("div",Tt,[t("p",null,c((Z=f.value)==null?void 0:Z.avg_dist_away_object.split(".")[0])+" "+c(o.$t("minut")),1)])]),Bt])])]),t("div",Ft,[t("div",Pt,[t("div",Wt,[t("div",null,[Ht,t("div",Kt,[t("p",null,c((tt=f.value)==null?void 0:tt.avg_eleminated_time.split(".")[0])+" "+c(o.$t("minut")),1)])]),Nt])])])])]),t("div",Ut,[t("div",Qt,[t("div",Gt,[t("div",Jt,[t("div",Xt,[t("label",Yt,c(o.$t("structures")),1),x(r,{modelValue:s.value.region,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value.region=e),options:H.value,label:h(d),reduce:e=>e.id,placeholder:o.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])]),t("div",Zt,[t("div",te,[t("label",ee,c(o.$t("districts")),1),x(r,{modelValue:s.value.distcity,"onUpdate:modelValue":a[1]||(a[1]=e=>s.value.distcity=e),options:K.value,label:h(d),reduce:e=>e.id,placeholder:o.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])]),t("div",oe,[t("div",se,[t("label",ae,c(o.$t("period")),1),x(r,{modelValue:s.value.period,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value.period=e),options:it.value,label:h(d),reduce:e=>e.id,placeholder:o.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])])]),t("div",le,[t("div",ie,[ne,x(R,{options:D.value,class:"custom-chart-size"},null,8,["options"])]),t("div",re,[ce,x(R,{options:z.value,class:"custom-chart-size"},null,8,["options"])]),t("div",de,[ue,x(R,{options:q.value,style:{height:"41vh"}},null,8,["options"])])]),x(b,{class:"m-0"}),t("div",pe,[t("div",he,[_e,t("div",ve,[(p(!0),_(w,null,k(V.value,e=>$((p(),I(T,{key:e,style:j([`width:${e.width}px;`,{position:"absolute"}]),progress:e.chartCircleArea,color:[e.color,e.color]},null,8,["style","progress","color"])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))]),t("div",me,[(p(!0),_(w,null,k(V.value,e=>$((p(),_("div",{key:e,class:"col-6 p-0"},[t("div",ge,[ye,t("div",be,[t("h3",xe,c(e.count),1),t("p",fe,c(e.name[h(d)]),1)])])])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))])]),t("div",we,[ke,t("div",$e,[(p(!0),_(w,null,k(O.value,e=>$((p(),I(T,{key:e,style:j([`width:${e.width}px;`,{position:"absolute"}]),progress:e.chartCircleArea,color:[e.color,e.color]},null,8,["style","progress","color"])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))]),t("div",Ce,[(p(!0),_(w,null,k(O.value,e=>$((p(),_("div",{key:e,class:"col-6 p-0"},[t("div",Se,[Ae,t("div",Le,[t("h3",De,c(e.count),1),t("p",ze,c(e.name[h(d)]),1)])])])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))])]),t("div",je,[Me,t("div",Ve,[(p(!0),_(w,null,k(E.value,e=>$((p(),I(T,{key:e,style:j([`width:${e.width}px;`,{position:"absolute"}]),progress:e.chartCircleArea,color:[e.color,e.color]},null,8,["style","progress","color"])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))]),t("div",Oe,[(p(!0),_(w,null,k(E.value,e=>$((p(),_("div",{key:e,class:"col-6 p-0"},[t("div",Ee,[qe,t("div",Ie,[t("h3",Re,c(e.count),1),t("p",Te,c(e.name[h(d)]),1)])])])),[[l,{value:`${e.name[h(d)]}: ${e.count}`,showDelay:300,hideDelay:300},void 0,{top:!0}]])),128))])])])])]),Be])}}},Ne=st(Fe,[["__scopeId","data-v-0dab1195"]]);export{Ne as default};
