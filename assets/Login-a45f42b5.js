import{_ as N,m as U,u as j,R as q,d as z,r as u,s as k,o as A,a as w,f as i,b as g,c as v,i as n,g as e,t as o,l as x,F as D,V as F,p as M,q as R,X as Z}from"./index-aae41fd2.js";const I=c=>(M("data-v-8db9cc4b"),c=c(),R(),c),E={class:"flex align-items-center justify-content-center min-h-screen min-w-screen overflow-hidden"},J={class:"flex flex-column align-items-center justify-content-center"},O={style:{"border-radius":"56px",padding:"0.3rem",background:"linear-gradient(180deg, var(--primary-color) 10%, rgba(33, 150, 243, 0) 30%)"}},X={class:"w-full surface-card py-8 px-5 sm:px-8",style:{"border-radius":"53px"}},G={class:"text-center mb-5"},H=I(()=>e("img",{src:Z,alt:"Image",class:"mb-3 w-6rem"},null,-1)),K=I(()=>e("div",{class:"text-900 text-3xl font-medium mb-3"},null,-1)),Q={class:"text-600 font-medium"},W={for:"email1",class:"block text-900 text-xl font-medium mb-2"},Y={class:"mb-4"},ee={key:0,class:"p-invalid",style:{display:"block"}},se={for:"password1",class:"block text-900 font-medium text-xl mb-2"},te={class:"mb-3"},oe={key:0,class:"p-invalid",style:{display:"block"}},ae={class:"flex align-items-center justify-content-between mb-5 gap-5"},le={class:"flex align-items-center"},ne={for:"rememberme1"},re={__name:"Login",setup(c){const T=U(),{t:f,locale:ie}=j(),S=q(),{layoutConfig:V}=z(),a=u(""),d=u(""),b=u(!1),r=u(!1),$=/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d@#$%^&+=!]{8,32}$/,m=k(()=>$.test(d.value));k(()=>`/layout/images/${V.darkTheme.value?"logo-white":"logo-dark"}.svg`),A(async()=>{if(localStorage.getItem("refreshToken")!=="null")try{await w.post("/auth/logout"),localStorage.setItem("accessToken",null),localStorage.setItem("refreshToken",null)}catch{localStorage.setItem("accessToken",null),localStorage.setItem("refreshToken",null)}});async function C(){if(r.value=!0,!(a.value.length<4)&&m.value)try{const s=await w.post("/auth/login",{username:a.value,password:d.value}),{accessToken:t,refreshToken:p,user:_}=s.data;localStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",p),localStorage.setItem("userData",JSON.stringify(_)),S.push("/loading")}catch{T.add({severity:"error",summary:f("status"),detail:f("error"),life:3e3})}}return(s,t)=>{var h,y;const p=i("Toast"),_=i("InputText"),B=i("Password"),P=i("Checkbox"),L=i("Button");return g(),v(D,null,[n(p),e("div",E,[e("div",J,[e("div",O,[e("div",X,[e("div",G,[H,K,e("span",Q,o(s.$t("sign_in_to_app")),1)]),e("div",null,[e("label",W,o(s.$t("username")),1),e("div",Y,[n(_,{id:"email1",type:"text",placeholder:"Username",class:"w-full md:w-30rem",style:{padding:"1rem"},modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value=l),invalid:r.value&&((h=a.value)==null?void 0:h.length)<4},null,8,["modelValue","invalid"]),r.value&&((y=a.value)==null?void 0:y.length)<4?(g(),v("small",ee,"1) "+o(s.$t("field_required"))+" 2) "+o(s.$t("min_length"))+" 4",1)):x("",!0)]),e("label",se,o(s.$t("password")),1),e("div",te,[n(B,{id:"password1",modelValue:d.value,"onUpdate:modelValue":t[1]||(t[1]=l=>d.value=l),invalid:r.value&&!m.value,placeholder:"Password",toggleMask:!0,class:"w-full",inputClass:"w-full",inputStyle:{padding:"1rem"}},null,8,["modelValue","invalid"]),r.value&&!m.value?(g(),v("small",oe,o(s.$t("correct_password")),1)):x("",!0)]),e("div",ae,[e("div",le,[n(P,{modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=l=>b.value=l),id:"rememberme1",binary:"",class:"mr-2"},null,8,["modelValue"]),e("label",ne,o(s.$t("remember_me")),1)])]),n(L,{label:s.$t("sign_in"),onClick:t[3]||(t[3]=l=>C()),class:"w-full p-3 text-xl"},null,8,["label"])])])])])]),n(F,{simple:""})],64)}}},de=N(re,[["__scopeId","data-v-8db9cc4b"]]);export{de as default};
