import{m as ie,u as de,r as $,E as T,o as ue,a as U,f as c,b as _,c as I,i as l,n as s,g as e,G as p,t as a,k as O,l as C,F as me,j as X,w as ke,I as ge,K as Ve,R as Ce}from"./index-aae41fd2.js";const Se={class:"my-2"},Te=e("i",{class:"pi pi-upload mr-1"},null,-1),Ue=e("i",{class:"pi pi-plus mr-1"},null,-1),De={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Me={class:"m-0"},Ae=e("i",{class:"pi pi-search"},null,-1),qe={class:"text-center"},Ne=e("span",{class:"p-column-title"},"name",-1),Fe=e("span",{class:"p-column-title"},"cam_code",-1),ze=e("span",{class:"p-column-title"},"camera_source",-1),Pe={key:0},Be={key:1,style:{display:"inline"}},je=e("span",{class:"p-column-title"},"main_photo",-1),Re=["onClick"],Ee=e("i",{class:"pi pi-pencil"},null,-1),Ge=[Ee],We=["onClick"],He=e("i",{class:"pi pi-trash mr-1"},null,-1),Le=[He],Oe={class:"field grid"},Qe={class:"col-6"},Ke={for:"name"},Ye=e("span",{style:{color:"#ff5050"}},"*",-1),Je={key:0,class:"p-invalid"},Xe={class:"col-6"},Ze={for:"cam_code"},xe=e("span",{style:{color:"#ff5050"}},"*",-1),et={key:0,class:"p-invalid"},tt={key:1,class:"p-invalid"},lt={class:"field grid"},at={class:"col-6"},ot={for:"camera_source"},st={class:"col-6"},nt={for:"isptz"},it={class:"flex align-items-center justify-content-center"},dt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),ut={key:0},rt={__name:"Camera",props:{orgId:String},setup(Y){const k=ie(),{t:r,locale:Z}=de(),D=$({global:{value:null,matchMode:T.CONTAINS},name:{value:null,matchMode:T.STARTS_WITH},"country.name":{value:null,matchMode:T.STARTS_WITH},representative:{value:null,matchMode:T.IN},status:{value:null,matchMode:T.EQUALS},verified:{value:null,matchMode:T.EQUALS}}),F=Y,V=$(!1),g=$(!1),i=$({});$(null);const t=$(null),S=$(!1),v=$(!1),R=$([]);ue(async()=>{await E()}),JSON.parse(localStorage.getItem("userData"));async function E(m){try{v.value=!0;let u=`/edu/cameras/${F.orgId}`;R.value=await U.get(u),v.value=!1}catch{v.value=!1}}const z=()=>{i.value={cam_code:null,camera_source:0,isptz:0,name:""},S.value=!1,V.value=!0},x=()=>{V.value=!1,S.value=!1},J=async()=>{if(S.value=!0,!!i.value.cam_code&&!(!i.value.cam_code.length>6)&&i.value.name)if(i.value.cam_code.replace(/\D/g,""),i.value.org_id=F.orgId,i.value.id)try{await U.put(`/edu/camera/${i.value.id}`,i.value),E(i.value.id),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),V.value=!1,i.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}else try{await U.post("/edu/camera",i.value),E(),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),V.value=!1,i.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},ee=async m=>{const u=await U.get(`/edu/camera/${m.id}`);i.value=u.data,V.value=!0},te=m=>{i.value.id=m,g.value=!0},le=async()=>{try{await U.delete(`/edu/camera/${i.value.id}`),g.value=!1,i.value={},k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),E()}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},ae=()=>{t.value.exportCSV()};return(m,u)=>{var Q,N;const o=c("Toolbar"),f=c("InputIcon"),q=c("InputText"),n=c("IconField"),d=c("Column"),A=c("Avatar"),P=c("DataTable"),G=c("v-select"),H=c("Button"),B=c("Dialog");return _(),I(me,null,[l(o,{class:"mb-4"},{start:s(()=>[e("div",Se,[e("button",{class:"o-button o-button-secondary",onClick:u[0]||(u[0]=w=>ae(w))},[Te,p(" "+a(m.$t("save")),1)])])]),end:s(()=>[e("button",{class:"o-button o-button-success",onClick:z},[Ue,p(a(m.$t("add")),1)])]),_:1}),l(P,{ref_key:"dt",ref:t,filters:D.value,"onUpdate:filters":u[2]||(u[2]=w=>D.value=w),value:(N=(Q=R.value)==null?void 0:Q.data)==null?void 0:N.data,paginator:"",rows:10,dataKey:"id",loading:v.value,globalFilterFields:["uz","oz","ru","id"]},{header:s(()=>[e("div",De,[e("h5",Me,a(m.$t("camera")),1),l(n,null,{default:s(()=>[l(f,null,{default:s(()=>[Ae]),_:1}),l(q,{modelValue:D.value.global.value,"onUpdate:modelValue":u[1]||(u[1]=w=>D.value.global.value=w),placeholder:m.$t("search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:s(()=>[e("div",qe,a(m.$t("no_data")),1)]),default:s(()=>[l(d,{header:m.$t("№"),headerStyle:"width:14px;"},{body:s(w=>[p(a(w.index+1),1)]),_:1},8,["header"]),l(d,{field:"name",header:m.$t("name"),sortable:!0},{body:s(w=>[Ne,p(" "+a(w.data.name),1)]),_:1},8,["header"]),l(d,{field:"cam_code",header:m.$t("cam_code"),sortable:!0},{body:s(w=>[Fe,p(" "+a(w.data.cam_code),1)]),_:1},8,["header"]),l(d,{field:"camera_source",header:m.$t("camera_source"),sortable:!0},{body:s(w=>[ze,w.data.camera_source?(_(),I("div",Pe,"Internet")):(_(),I("div",Be,"Wlan"))]),_:1},8,["header"]),l(d,{field:"isptz",header:m.$t("isptz"),sortable:!0},{body:s(w=>[je,w.data.isptz?(_(),O(A,{key:0,icon:"pi pi-check",style:{"background-color":"#4ade80",color:"#000"},shape:"circle"})):(_(),O(A,{key:1,icon:"pi pi-times",style:{"background-color":"#ff0000",color:"#fff"},shape:"circle"}))]),_:1},8,["header"]),l(d,{header:m.$t("actions"),headerStyle:"min-width:10rem;"},{body:s(w=>[e("button",{class:"o-button o-button-warning mr-2",onClick:W=>ee(w.data)},Ge,8,Re),e("button",{class:"o-button o-button-danger",onClick:W=>te(w.data.id)},Le,8,We)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"]),l(B,{visible:V.value,"onUpdate:visible":u[7]||(u[7]=w=>V.value=w),style:{width:"750px"},header:i.value.id?m.$t("edit"):m.$t("add"),modal:!0,class:"p-fluid"},{footer:s(()=>[l(H,{label:m.$t("cancel"),icon:"pi pi-times",class:"text-red-400",text:"",onClick:x},null,8,["label"]),l(H,{label:m.$t("save"),icon:"pi pi-check",text:"",onClick:J},null,8,["label"])]),default:s(()=>{var w,W,L;return[e("div",Oe,[e("div",Qe,[e("label",Ke,[p(a(m.$t("name")),1),Ye]),l(q,{id:"name",modelValue:i.value.name,"onUpdate:modelValue":u[3]||(u[3]=h=>i.value.name=h),modelModifiers:{trim:!0},required:"true",invalid:S.value&&!((w=i.value.name)!=null&&w.length)},null,8,["modelValue","invalid"]),S.value&&!i.value.name?(_(),I("small",Je,a(m.$t("field_required")),1)):C("",!0)]),e("div",Xe,[e("label",Ze,[p(a(m.$t("cam_code")),1),xe]),l(q,{id:"cam_code",type:"number",modelValue:i.value.cam_code,"onUpdate:modelValue":u[4]||(u[4]=h=>i.value.cam_code=h),modelModifiers:{trim:!0},required:"true",invalid:S.value&&((W=i.value.cam_code)==null?void 0:W.length)>6,useGrouping:!1,fluid:"",inputId:"withoutgrouping"},null,8,["modelValue","invalid"]),S.value&&!i.value.cam_code?(_(),I("small",et,a(m.$t("field_required")),1)):C("",!0),S.value&&((L=i.value.cam_code)==null?void 0:L.length)>6?(_(),I("small",tt,a(m.$t("enter_length"))+" 6 та"+a(m.$t("to")),1)):C("",!0)])]),e("div",lt,[e("div",at,[e("label",ot,a(m.$t("camera_source")),1),l(G,{id:"camera_source",modelValue:i.value.camera_source,"onUpdate:modelValue":u[5]||(u[5]=h=>i.value.camera_source=h),options:[{id:0,label:m.$t("no")},{id:1,label:m.$t("yes")}],clearable:!1,label:m.label,reduce:h=>h.id,placeholder:m.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])]),e("div",st,[e("label",nt,a(m.$t("isptz")),1),l(G,{id:"isptz",modelValue:i.value.isptz,"onUpdate:modelValue":u[6]||(u[6]=h=>i.value.isptz=h),options:[{id:0,label:m.$t("no")},{id:1,label:m.$t("yes")}],label:m.label,reduce:h=>h.id,clearable:!1,placeholder:m.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"])])])]}),_:1},8,["visible","header"]),l(B,{visible:g.value,"onUpdate:visible":u[9]||(u[9]=w=>g.value=w),style:{width:"450px"},header:m.$t("confirmation"),modal:!0},{footer:s(()=>[l(H,{label:"No",icon:"pi pi-times",text:"",onClick:u[8]||(u[8]=w=>g.value=!1)}),l(H,{label:"Yes",icon:"pi pi-check",text:"",onClick:le})]),default:s(()=>[e("div",it,[dt,i.value?(_(),I("span",ut,[p(a(m.$t("are_you_sure_to_delete_this_item"))+" ",1),e("b",null,a(i.value.name),1)])):C("",!0)])]),_:1},8,["visible","header"])],64)}}};const ct={class:"my-2"},mt=e("i",{class:"pi pi-upload mr-1"},null,-1),pt=e("i",{class:"pi pi-plus mr-1"},null,-1),vt={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},_t={class:"m-0"},ht=e("i",{class:"pi pi-search"},null,-1),ft={class:"text-center"},$t=e("span",{class:"p-column-title"},"name",-1),bt=e("span",{class:"p-column-title"},"position",-1),yt=e("span",{class:"p-column-title"},"phone",-1),gt=["onClick"],kt=e("i",{class:"pi pi-pencil"},null,-1),wt=[kt],It=["onClick"],Vt=e("i",{class:"pi pi-trash mr-1"},null,-1),Ct=[Vt],St={class:"field grid"},Tt={class:"col-6"},Ut={for:"name"},Dt=e("span",{style:{color:"#ff5050"}},"*",-1),Mt={key:0,class:"p-invalid"},At={class:"col-6"},qt={for:"position",class:"mb-3"},Nt=e("span",{style:{color:"#ff5050"}},"*",-1),Ft={key:0,class:"p-invalid"},zt={class:"field grid"},Pt={class:"col-6"},Bt={for:"phone"},jt=e("span",{style:{color:"#ff5050"}},"*",-1),Rt=e("span",null,"+998",-1),Et={key:0,class:"p-invalid"},Gt={class:"flex align-items-center justify-content-center"},Wt=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Ht={key:0},Lt={__name:"Staff",props:{orgId:String},setup(Y){const k=ie(),{t:r,locale:Z}=de(),D=$({global:{value:null,matchMode:T.CONTAINS},name:{value:null,matchMode:T.STARTS_WITH},"country.name":{value:null,matchMode:T.STARTS_WITH},representative:{value:null,matchMode:T.IN},status:{value:null,matchMode:T.EQUALS},verified:{value:null,matchMode:T.EQUALS}}),F=Y,V=$(!1),g=$(!1),i=$({});$(null);const t=$(null),S=$(!1),v=$(!1),R=$([]),E=$([]);ue(async()=>{await z();const u=await U.get("/edu/refs/position");E.value=await u.data.data}),JSON.parse(localStorage.getItem("userData"));async function z(u){try{v.value=!0;let o=`/edu/staffs/${F.orgId}`;R.value=await U.get(o),v.value=!1}catch{v.value=!1}}const x=()=>{i.value={name:"",position_id:"",phone:""},S.value=!1,V.value=!0},J=()=>{V.value=!1,S.value=!1},ee=async()=>{if(S.value=!0,!!i.value.name&&i.value.position_id&&i.value.phone)if(i.value.org_id=F.orgId,i.value.id)try{await U.put(`/edu/staff/${i.value.id}`,i.value),z(i.value.id),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),V.value=!1,i.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}else try{await U.post("/edu/staff",i.value),z(),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),V.value=!1,i.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},te=async u=>{var f,q;const o=await U.get(`/edu/staff/${u.id}`);i.value=o.data,i.value.phone=(q=(f=o.data)==null?void 0:f.phone)==null?void 0:q.replace(/\+998/,"").replace(/\D/g,""),V.value=!0},le=u=>{i.value.id=u,g.value=!0},ae=async()=>{try{await U.delete(`/edu/staff/${i.value.id}`),g.value=!1,i.value={},k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),z()}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},m=()=>{t.value.exportCSV()};return(u,o)=>{var W,L;const f=c("Toolbar"),q=c("InputIcon"),n=c("InputText"),d=c("IconField"),A=c("Column"),P=c("DataTable"),G=c("v-select"),H=c("InputGroupAddon"),B=c("InputMask"),Q=c("InputGroup"),N=c("Button"),w=c("Dialog");return _(),I(me,null,[l(f,{class:"mb-4"},{start:s(()=>[e("div",ct,[e("button",{class:"o-button o-button-secondary",onClick:o[0]||(o[0]=h=>m(h))},[mt,p(" "+a(u.$t("save")),1)])])]),end:s(()=>[e("button",{class:"o-button o-button-success",onClick:x},[pt,p(a(u.$t("add")),1)])]),_:1}),l(P,{ref_key:"dt",ref:t,filters:D.value,"onUpdate:filters":o[2]||(o[2]=h=>D.value=h),value:(L=(W=R.value)==null?void 0:W.data)==null?void 0:L.data,paginator:"",rows:10,dataKey:"id",loading:v.value,globalFilterFields:["uz","oz","ru","id"]},{header:s(()=>[e("div",vt,[e("h5",_t,a(u.$t("staffs")),1),l(d,null,{default:s(()=>[l(q,null,{default:s(()=>[ht]),_:1}),l(n,{modelValue:D.value.global.value,"onUpdate:modelValue":o[1]||(o[1]=h=>D.value.global.value=h),placeholder:u.$t("search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:s(()=>[e("div",ft,a(u.$t("no_data")),1)]),default:s(()=>[l(A,{header:u.$t("№"),headerStyle:"width:14px;"},{body:s(h=>[p(a(h.index+1),1)]),_:1},8,["header"]),l(A,{field:"name",header:u.$t("name"),sortable:!0},{body:s(h=>[$t,p(" "+a(h.data.name),1)]),_:1},8,["header"]),l(A,{field:"position",header:u.$t("position"),sortable:!0},{body:s(h=>[bt,p(" "+a(h.data.position[X(Z)]),1)]),_:1},8,["header"]),l(A,{field:"phone",header:u.$t("phone"),sortable:!0},{body:s(h=>[yt,p(" "+a(h.data.phone),1)]),_:1},8,["header"]),l(A,{header:u.$t("actions"),headerStyle:"min-width:10rem;"},{body:s(h=>[e("button",{class:"o-button o-button-warning mr-2",onClick:b=>te(h.data)},wt,8,gt),e("button",{class:"o-button o-button-danger",onClick:b=>le(h.data.id)},Ct,8,It)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"]),l(w,{visible:V.value,"onUpdate:visible":o[6]||(o[6]=h=>V.value=h),style:{width:"750px"},header:i.value.id?u.$t("edit"):u.$t("add"),modal:!0,class:"p-fluid"},{footer:s(()=>[l(N,{label:u.$t("cancel"),icon:"pi pi-times",class:"text-red-400",text:"",onClick:J},null,8,["label"]),l(N,{label:u.$t("save"),icon:"pi pi-check",text:"",onClick:ee},null,8,["label"])]),default:s(()=>{var h;return[e("div",St,[e("div",Tt,[e("label",Ut,[p(a(u.$t("name")),1),Dt]),l(n,{id:"name",modelValue:i.value.name,"onUpdate:modelValue":o[3]||(o[3]=b=>i.value.name=b),modelModifiers:{trim:!0},required:"true",invalid:S.value&&!((h=i.value.name)!=null&&h.length)},null,8,["modelValue","invalid"]),S.value&&!i.value.name?(_(),I("small",Mt,a(u.$t("field_required")),1)):C("",!0)]),e("div",At,[e("label",qt,[p(a(u.$t("position")),1),Nt]),l(G,{id:"position",modelValue:i.value.position_id,"onUpdate:modelValue":o[4]||(o[4]=b=>i.value.position_id=b),options:E.value,label:X(Z),reduce:b=>b.id,placeholder:u.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),S.value&&!i.value.position_id?(_(),I("small",Ft,a(u.$t("field_required")),1)):C("",!0)])]),e("div",zt,[e("div",Pt,[e("label",Bt,[p(a(u.$t("phone")),1),jt]),l(Q,null,{default:s(()=>[l(H,null,{default:s(()=>[Rt]),_:1}),l(B,{id:"phone",modelValue:i.value.phone,"onUpdate:modelValue":o[5]||(o[5]=b=>i.value.phone=b),mask:"99-999-99-99",invalid:S.value&&i.value.phone===""},null,8,["modelValue","invalid"])]),_:1}),S.value&&i.value.phone===""?(_(),I("small",Et,a(u.$t("field_required")),1)):C("",!0)])])]}),_:1},8,["visible","header"]),l(w,{visible:g.value,"onUpdate:visible":o[8]||(o[8]=h=>g.value=h),style:{width:"450px"},header:u.$t("confirmation"),modal:!0},{footer:s(()=>[l(N,{label:"No",icon:"pi pi-times",text:"",onClick:o[7]||(o[7]=h=>g.value=!1)}),l(N,{label:"Yes",icon:"pi pi-check",text:"",onClick:ae})]),default:s(()=>[e("div",Gt,[Wt,i.value?(_(),I("span",Ht,[p(a(u.$t("are_you_sure_to_delete_this_item"))+" ",1),e("b",null,a(i.value.name),1)])):C("",!0)])]),_:1},8,["visible","header"])],64)}}},Ot=e("i",{class:"pi pi-upload mr-1"},null,-1),Qt=e("i",{class:"pi pi-plus mr-1"},null,-1),Kt={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},Yt={class:"m-0"},Jt=e("i",{class:"pi pi-search"},null,-1),Xt={class:"text-center"},Zt=e("span",{class:"p-column-title"},"fio",-1),xt=e("span",{class:"p-column-title"},"Image",-1),el=e("span",{class:"p-column-title"},"birthdate",-1),tl=e("span",{class:"p-column-title"},"phone",-1),ll=e("span",{class:"p-column-title"},"pinfl",-1),al=e("span",{class:"p-column-title"},"work_from",-1),ol=e("span",{class:"p-column-title"},"mil_service",-1),sl=["onClick"],nl=e("i",{class:"pi pi-pencil"},null,-1),il=[nl],dl=["onClick"],ul=e("i",{class:"pi pi-trash mr-1"},null,-1),rl=[ul],cl={class:"field grid"},ml={class:"col-6"},pl={for:"name"},vl={key:0,class:"p-invalid"},_l={class:"col-6"},hl={for:"name"},fl=e("span",{style:{color:"#ff5050"}},"*",-1),$l={key:0,class:"p-invalid"},bl={class:"field grid"},yl={class:"col-6"},gl={for:"name"},kl=e("span",{style:{color:"#ff5050"}},"*",-1),wl={key:0,class:"p-invalid"},Il={class:"col-6"},Vl={for:"phone"},Cl=e("span",{style:{color:"#ff5050"}},"*",-1),Sl=e("span",null,"+998",-1),Tl={key:0,class:"p-invalid"},Ul={class:"field grid"},Dl={class:"col-6"},Ml={for:"birthdate"},Al=e("span",{style:{color:"#ff5050"}},"*",-1),ql={key:0,class:"p-invalid"},Nl={class:"col-6"},Fl={for:"work_from"},zl=e("span",{style:{color:"#ff5050"}},"*",-1),Pl={key:0,class:"p-invalid"},Bl={class:"field grid"},jl={class:"col-6"},Rl={for:"mil_service"},El=e("span",{style:{color:"#ff5050"}},"*",-1),Gl={key:0,class:"p-invalid"},Wl={class:"col-6"},Hl={for:"pinfl "},Ll=e("span",{style:{color:"#ff5050"}},"*",-1),Ol={key:0,class:"p-invalid"},Ql={class:"field"},Kl={for:"photo",class:"mb-3"},Yl=e("span",{style:{color:"#ff5050"}},"*",-1),Jl={class:"flex flex-wrap justify-content-between align-items-center flex-1 gap-2"},Xl={class:"flex gap-2"},Zl={class:"flex align-items-center justify-content-center flex-column"},xl={key:1,class:"pi pi-cloud-upload border-2 border-circle p-2 text-2xl text-400 border-400"},ea={key:0,class:"p-invalid"},ta={class:"flex align-items-center justify-content-center"},la=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),aa={key:0},oa={__name:"GuardingStaffs",props:{orgId:String},setup(Y){const k=ie(),{t:r,locale:Z}=de(),D=$({global:{value:null,matchMode:T.CONTAINS},name:{value:null,matchMode:T.STARTS_WITH},"country.name":{value:null,matchMode:T.STARTS_WITH},representative:{value:null,matchMode:T.IN},status:{value:null,matchMode:T.EQUALS},verified:{value:null,matchMode:T.EQUALS}}),F=Y;$(null);const V=$(null),g=$(!1),i=$(!1),t=$({}),S=$(null),v=$(!1),R=$(!1),E=$([]);ue(async()=>{await z()}),JSON.parse(localStorage.getItem("userData"));async function z(n){try{R.value=!0;let d=`/edu/guard_staffs/${F.orgId}`;E.value=await U.get(d),R.value=!1}catch{R.value=!1}}const x=()=>{t.value={org_id:F.orgId,firstname:"",structure_id:"",lastname:"",birthdate:null,work_from:null,mil_service:"",phone:"",pinfl:""},v.value=!1,g.value=!0};ke(()=>t.value,()=>{var n;((n=t.value)==null?void 0:n.surname)==""&&delete t.value.surname},{deep:!0});function J(n){const d=n.getFullYear(),A=String(n.getMonth()+1).padStart(2,"0"),P=String(n.getDate()).padStart(2,"0");return`${d}-${A}-${P}`}function ee(n){n!=null&&ge(()=>{const d=J(n);t.value.birthdate=d})}function te(n){n!=null&&ge(()=>{const d=J(n);t.value.work_from=d})}const le=()=>{g.value=!1,v.value=!1},ae=async()=>{var n;if(v.value=!0,!(t.value.surname&&t.value.surname.length<3)&&!(t.value.lastname.length<3)&&t.value.birthdate&&t.value.work_from&&typeof t.value.mil_service=="number"&&t.value.pinfl&&t.value.phone&&!(!t.value.photo&&!((n=V.value)!=null&&n.files[0]))&&t.value.firstname.length>2){const d=new FormData;if(d.append("firstname",t.value.firstname),d.append("birthdate",t.value.birthdate),d.append("pinfl",t.value.pinfl),t.value.surname&&d.append("surname",t.value.surname),d.append("lastname",t.value.lastname),d.append("work_from",t.value.work_from),d.append("mil_service",t.value.mil_service),d.append("phone",t.value.phone),V.value.files[0]&&d.append("photo",V.value.files[0]),d.append("org_id",F.orgId),t.value.id)try{await U.put(`/edu/guard_staff/${t.value.id}`,d),z(t.value.id),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),g.value=!1,t.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}else try{await U.post("/edu/guard_staff/",d),z(),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),g.value=!1,t.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}}},m=async n=>{var A,P;const d=await U.get(`/edu/guard_staff/${n.id}`);t.value=d.data,t.value.phone=(P=(A=d.data)==null?void 0:A.phone)==null?void 0:P.replace(/\+998/,"").replace(/\D/g,""),g.value=!0},u=n=>{t.value.id=n,i.value=!0},o=async()=>{try{await U.delete(`/edu/guard_staff/${t.value.id}`),i.value=!1,t.value={},k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),z()}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},f=()=>{S.value.exportCSV()},q=n=>`http://10.100.26.3:8453/api/v1/pictures/guard_staffs/${n}`;return(n,d)=>{var j,ce;const A=c("Toolbar"),P=c("InputIcon"),G=c("InputText"),H=c("IconField"),B=c("Column"),Q=c("Image"),N=c("Avatar"),w=c("DataTable"),W=c("InputGroupAddon"),L=c("InputMask"),h=c("InputGroup"),b=c("Calendar"),oe=c("v-select"),K=c("Button"),re=c("FileUpload"),ne=c("Dialog");return _(),I(me,null,[l(A,{class:"mb-4"},{start:s(()=>[e("button",{class:"o-button o-button-secondary mr-2",onClick:d[0]||(d[0]=y=>f(y))},[Ot,p(" "+a(n.$t("save")),1)])]),end:s(()=>[e("button",{class:"o-button o-button-success",onClick:x},[Qt,p(a(n.$t("add")),1)])]),_:1}),l(w,{ref_key:"dt",ref:S,filters:D.value,"onUpdate:filters":d[2]||(d[2]=y=>D.value=y),value:(ce=(j=E.value)==null?void 0:j.data)==null?void 0:ce.data,dataKey:"id",paginator:"",rows:10,loading:R.value,globalFilterFields:["fio","phone","pinfl"]},{header:s(()=>[e("div",Kt,[e("h5",Yt,a(n.$t("guarding_staffs")),1),l(H,null,{default:s(()=>[l(P,null,{default:s(()=>[Jt]),_:1}),l(G,{modelValue:D.value.global.value,"onUpdate:modelValue":d[1]||(d[1]=y=>D.value.global.value=y),placeholder:n.$t("search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:s(()=>[e("div",Xt,a(n.$t("no_data")),1)]),default:s(()=>[l(B,{header:n.$t("№"),headerStyle:"width:14px;"},{body:s(y=>[p(a(y.index+1),1)]),_:1},8,["header"]),l(B,{field:"fio",header:n.$t("fio"),sortable:!0,headerStyle:"width:14%; min-width:10rem;"},{body:s(y=>[Zt,p(" "+a(y.data.lastname)+" "+a(y.data.firstname)+" "+a(y.data.surname),1)]),_:1},8,["header"]),l(B,{header:n.$t("photo"),headerStyle:"width:14%; min-width:1rem;"},{body:s(y=>[xt,y.data.photo?(_(),O(Q,{key:0,src:q(y.data.photo),alt:"Image",width:"50",preview:""},null,8,["src"])):C("",!0)]),_:1},8,["header"]),l(B,{field:"birthdate",header:n.$t("birthdate"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:s(y=>[el,p(" "+a(y.data.birthdate),1)]),_:1},8,["header"]),l(B,{field:"phone",header:n.$t("phone"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:s(y=>[tl,p(" "+a(y.data.phone),1)]),_:1},8,["header"]),l(B,{field:"pinfl",header:n.$t("pinfl"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:s(y=>[ll,p(" "+a(y.data.pinfl),1)]),_:1},8,["header"]),l(B,{field:"work_from",header:n.$t("work_from"),sortable:!0,headerStyle:"width:14%; min-width:6rem;"},{body:s(y=>[al,p(" "+a(y.data.work_from),1)]),_:1},8,["header"]),l(B,{field:"mil_service",header:n.$t("mil_service"),sortable:!0,headerStyle:"width:14%; width:10px;"},{body:s(y=>[ol,y.data.mil_service?(_(),O(N,{key:0,icon:"pi pi-check",style:{"background-color":"#4ade80",color:"#000"},shape:"circle"})):(_(),O(N,{key:1,icon:"pi pi-times",style:{"background-color":"#ff0000",color:"#fff"},shape:"circle"}))]),_:1},8,["header"]),l(B,{header:n.$t("actions"),headerStyle:"min-width:10rem;"},{body:s(y=>[e("button",{class:"o-button o-button-warning mr-2",onClick:se=>m(y.data)},il,8,sl),e("button",{class:"o-button o-button-danger",onClick:se=>u(y.data.id)},rl,8,dl)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"]),l(ne,{visible:g.value,"onUpdate:visible":d[12]||(d[12]=y=>g.value=y),style:{width:"750px"},header:t.value.id?n.$t("edit"):n.$t("add"),modal:!0,class:"p-fluid"},{footer:s(()=>[l(K,{label:n.$t("cancel"),icon:"pi pi-times",class:"text-red-400",text:"",onClick:le},null,8,["label"]),l(K,{label:n.$t("save"),icon:"pi pi-check",text:"",onClick:ae},null,8,["label"])]),default:s(()=>{var y,se,pe,ve,_e,he,fe,$e,be;return[e("div",cl,[e("div",ml,[e("label",pl,a(n.$t("surname")),1),l(G,{id:"name",modelValue:t.value.surname,"onUpdate:modelValue":d[3]||(d[3]=M=>t.value.surname=M),modelModifiers:{trim:!0},invalid:v.value&&((y=t.value.surname)==null?void 0:y.length)<3},null,8,["modelValue","invalid"]),v.value&&((se=t.value.surname)==null?void 0:se.length)<3?(_(),I("small",vl,a(n.$t("min_length"))+" 3",1)):C("",!0)]),e("div",_l,[e("label",hl,[p(a(n.$t("lastname")),1),fl]),l(G,{id:"name",modelValue:t.value.lastname,"onUpdate:modelValue":d[4]||(d[4]=M=>t.value.lastname=M),modelModifiers:{trim:!0},required:"true",invalid:v.value&&((pe=t.value.lastname)==null?void 0:pe.length)<3},null,8,["modelValue","invalid"]),v.value&&((ve=t.value.lastname)==null?void 0:ve.length)<3?(_(),I("small",$l,"1) "+a(n.$t("field_required"))+". 2) "+a(n.$t("min_length"))+" 3",1)):C("",!0)])]),e("div",bl,[e("div",yl,[e("label",gl,[p(a(n.$t("firstname")),1),kl]),l(G,{id:"name",modelValue:t.value.firstname,"onUpdate:modelValue":d[5]||(d[5]=M=>t.value.firstname=M),modelModifiers:{trim:!0},required:"true",invalid:v.value&&((_e=t.value.firstname)==null?void 0:_e.length)<3},null,8,["modelValue","invalid"]),v.value&&((he=t.value.firstname)==null?void 0:he.length)<3?(_(),I("small",wl,"1) "+a(n.$t("field_required"))+". 2) "+a(n.$t("min_length"))+" 3",1)):C("",!0)]),e("div",Il,[e("label",Vl,[p(a(n.$t("phone")),1),Cl]),l(h,null,{default:s(()=>[l(W,null,{default:s(()=>[Sl]),_:1}),l(L,{id:"phone",modelValue:t.value.phone,"onUpdate:modelValue":d[6]||(d[6]=M=>t.value.phone=M),mask:"99-999-99-99",invalid:v.value&&t.value.phone===""},null,8,["modelValue","invalid"])]),_:1}),v.value&&t.value.phone===""?(_(),I("small",Tl,a(n.$t("field_required")),1)):C("",!0)])]),e("div",Ul,[e("div",Dl,[e("label",Ml,[p(a(n.$t("birthdate")),1),Al]),l(b,{"onUpdate:modelValue":[ee,d[7]||(d[7]=M=>t.value.birthdate=M)],id:"birthdate",modelValue:t.value.birthdate,required:"true",invalid:v.value&&t.value.birthdate===null},null,8,["modelValue","invalid"]),v.value&&t.value.birthdate===null?(_(),I("small",ql,a(n.$t("field_required")),1)):C("",!0)]),e("div",Nl,[e("label",Fl,[p(a(n.$t("work_from")),1),zl]),l(b,{id:"work_from","onUpdate:modelValue":[te,d[8]||(d[8]=M=>t.value.work_from=M)],modelValue:t.value.work_from,required:"true",invalid:v.value&&t.value.work_from===null},null,8,["modelValue","invalid"]),v.value&&t.value.work_from===null?(_(),I("small",Pl,a(n.$t("field_required")),1)):C("",!0)])]),e("div",Bl,[e("div",jl,[e("label",Rl,[p(a(n.$t("mil_service")),1),El]),l(oe,{id:"mil_service",modelValue:t.value.mil_service,"onUpdate:modelValue":d[9]||(d[9]=M=>t.value.mil_service=M),options:[{id:0,label:n.$t("no")},{id:1,label:n.$t("yes")}],label:n.label,reduce:M=>M.id,clearable:!1,placeholder:n.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),v.value&&((fe=t.value.mil_service)==null?void 0:fe.length)<1?(_(),I("small",Gl,a(n.$t("field_required")),1)):C("",!0)]),e("div",Wl,[e("label",Hl,[p(a(n.$t("pinfl")),1),Ll]),l(L,{id:"phone",modelValue:t.value.pinfl,"onUpdate:modelValue":d[10]||(d[10]=M=>t.value.pinfl=M),mask:"99999999999999",invalid:v.value&&t.value.pinfl===""},null,8,["modelValue","invalid"]),v.value&&(($e=t.value.pinfl)==null?void 0:$e.length)!=14?(_(),I("small",Ol,a(n.$t("field_required")),1)):C("",!0)])]),e("div",Ql,[e("label",Kl,[p(a(n.$t("photo")),1),Yl]),l(re,{name:"demo[]",ref_key:"image",ref:V,onUpload:d[11]||(d[11]=M=>n.onAdvancedUpload(M)),multiple:!1,accept:"image/*"},{header:s(({chooseCallback:M,clearCallback:we,files:ye})=>[e("div",Jl,[e("div",Xl,[l(K,{onClick:Ie=>M(),icon:"pi pi-images",style:{width:"30px",height:"30px"},rounded:"",outlined:""},null,8,["onClick"]),l(K,{onClick:Ie=>we(),icon:"pi pi-times",rounded:"",outlined:"",style:{width:"30px",height:"30px"},severity:"danger",disabled:!ye||ye.length===0},null,8,["onClick","disabled"])])])]),empty:s(()=>[e("div",Zl,[t.value.photo?(_(),O(Q,{key:0,src:q(t.value.photo),alt:"Image",width:"150",preview:""},null,8,["src"])):(_(),I("i",xl))])]),_:1},512),v.value&&!t.value.photo&&!((be=V.value)!=null&&be.files[0])?(_(),I("small",ea,a(n.$t("field_required")),1)):C("",!0)])]}),_:1},8,["visible","header"]),l(ne,{visible:i.value,"onUpdate:visible":d[14]||(d[14]=y=>i.value=y),style:{width:"450px"},header:n.$t("confirmation"),modal:!0},{footer:s(()=>[l(K,{label:"No",icon:"pi pi-times",text:"",onClick:d[13]||(d[13]=y=>i.value=!1)}),l(K,{label:"Yes",icon:"pi pi-check",text:"",onClick:o})]),default:s(()=>[e("div",ta,[la,t.value?(_(),I("span",aa,[p(a(n.$t("are_you_sure_to_delete_this_item"))+" ",1),e("b",null,a(t.value.name),1)])):C("",!0)])]),_:1},8,["visible","header"])],64)}}},sa=e("i",{class:"pi pi-upload mr-1"},null,-1),na=e("i",{class:"pi pi-plus mr-1"},null,-1),ia={class:"flex flex-column md:flex-row md:justify-content-between md:align-items-center"},da={class:"m-0"},ua=e("i",{class:"pi pi-search"},null,-1),ra={class:"text-center"},ca=e("span",{class:"p-column-title"},"Image",-1),ma=e("span",{class:"p-column-title"},"comment",-1),pa=e("span",{class:"p-column-title"},"main_photo",-1),va=["onClick"],_a=e("i",{class:"pi pi-pencil"},null,-1),ha=[_a],fa=["onClick"],$a=e("i",{class:"pi pi-trash mr-1"},null,-1),ba=[$a],ya={class:"field grid"},ga={class:"col-6"},ka={for:"oz"},wa=e("span",{style:{color:"#ff5050"}},"*",-1),Ia={key:0,class:"p-invalid"},Va={class:"col-6"},Ca={for:"ru"},Sa=e("span",{style:{color:"#ff5050"}},"*",-1),Ta={key:0,class:"p-invalid"},Ua={class:"field grid"},Da={class:"col-6"},Ma={for:"uz"},Aa=e("span",{style:{color:"#ff5050"}},"*",-1),qa={key:0,class:"p-invalid"},Na={class:"col-6"},Fa={for:"main_photo"},za={key:0,class:"p-invalid"},Pa={class:"field"},Ba={for:"photo",class:"mb-3"},ja=e("span",{style:{color:"#ff5050"}},"*",-1),Ra={class:"flex flex-wrap justify-content-between align-items-center flex-1 gap-2"},Ea={class:"flex gap-2"},Ga={class:"flex align-items-center justify-content-center flex-column"},Wa={key:1,class:"pi pi-cloud-upload border-2 border-circle p-2 text-2xl text-400 border-400"},Ha={key:0,class:"p-invalid"},La={class:"flex align-items-center justify-content-center"},Oa=e("i",{class:"pi pi-exclamation-triangle mr-3",style:{"font-size":"2rem"}},null,-1),Qa={key:0},Ka={__name:"Photo",props:{orgId:String},setup(Y){const k=ie(),{t:r,locale:Z}=de(),D=$({global:{value:null,matchMode:T.CONTAINS},name:{value:null,matchMode:T.STARTS_WITH},"country.name":{value:null,matchMode:T.STARTS_WITH},representative:{value:null,matchMode:T.IN},status:{value:null,matchMode:T.EQUALS},verified:{value:null,matchMode:T.EQUALS}}),F=Y;$(null);const V=$(null),g=$(!1),i=$(!1),t=$({}),S=$(null),v=$(!1),R=$(!1),E=$([]);ue(async()=>{await z()}),JSON.parse(localStorage.getItem("userData"));async function z(o){try{R.value=!0;let f=`/edu/photos/${F.orgId}`;E.value=await U.get(f),R.value=!1}catch{R.value=!1}}const x=()=>{t.value={org_id:F.orgId,comment1:"",comment2:"",comment3:"",main_photo:0},v.value=!1,g.value=!0};ke(()=>t.value,()=>{var o;((o=t.value)==null?void 0:o.surname)==""&&delete t.value.surname},{deep:!0});const J=()=>{g.value=!1,v.value=!1},ee=async()=>{var f;if(v.value=!0,t.value.comment1.length<3||t.value.comment2.length<3||t.value.comment3.length<3||!t.value.photo&&!((f=V.value)!=null&&f.files[0]))return;const o=new FormData;if(o.append("comment1",t.value.comment1),o.append("comment2",t.value.comment2),o.append("comment3",t.value.comment3),o.append("main_photo",t.value.main_photo),V.value.files[0]&&o.append("photo",V.value.files[0]),o.append("org_id",F.orgId),t.value.id)try{await U.put(`/edu/photo/${t.value.id}`,o),z(t.value.id),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),g.value=!1,t.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}else try{await U.post("/edu/photo/",o),z(),k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),g.value=!1,t.value={}}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},te=async o=>{var q,n;const f=await U.get(`/edu/photo/${o.id}`);t.value=f.data,t.value.phone=(n=(q=f.data)==null?void 0:q.phone)==null?void 0:n.replace(/\+998/,"").replace(/\D/g,""),g.value=!0},le=o=>{t.value.id=o,i.value=!0},ae=async()=>{try{await U.delete(`/edu/photo/${t.value.id}`),i.value=!1,t.value={},k.add({severity:"success",summary:r("status"),detail:r("success"),life:3e3}),z()}catch{k.add({severity:"error",summary:r("status"),detail:r("error"),life:3e3})}},m=()=>{S.value.exportCSV()},u=o=>`http://10.100.26.3:8453/api/v1/pictures/edu_organizations/${o}`;return(o,f)=>{var L,h;const q=c("Toolbar"),n=c("InputIcon"),d=c("InputText"),A=c("IconField"),P=c("Column"),G=c("Image"),H=c("Avatar"),B=c("DataTable"),Q=c("v-select"),N=c("Button"),w=c("FileUpload"),W=c("Dialog");return _(),I(me,null,[l(q,{class:"mb-4"},{start:s(()=>[e("button",{class:"o-button o-button-secondary mr-2",onClick:f[0]||(f[0]=b=>m(b))},[sa,p(" "+a(o.$t("save")),1)])]),end:s(()=>[e("button",{class:"o-button o-button-success",onClick:x},[na,p(a(o.$t("add")),1)])]),_:1}),l(B,{ref_key:"dt",ref:S,filters:D.value,"onUpdate:filters":f[2]||(f[2]=b=>D.value=b),value:(h=(L=E.value)==null?void 0:L.data)==null?void 0:h.data,dataKey:"id",paginator:"",rows:10,loading:R.value,globalFilterFields:["comment.uz","comment.oz","comment.ru","main_photo"]},{header:s(()=>[e("div",ia,[e("h5",da,a(o.$t("photo")),1),l(A,null,{default:s(()=>[l(n,null,{default:s(()=>[ua]),_:1}),l(d,{modelValue:D.value.global.value,"onUpdate:modelValue":f[1]||(f[1]=b=>D.value.global.value=b),placeholder:o.$t("search")},null,8,["modelValue","placeholder"])]),_:1})])]),empty:s(()=>[e("div",ra,a(o.$t("no_data")),1)]),default:s(()=>[l(P,{header:o.$t("№"),headerStyle:"width:14px;"},{body:s(b=>[p(a(b.index+1),1)]),_:1},8,["header"]),l(P,{header:o.$t("photo"),headerStyle:"width:14%; min-width:1rem;"},{body:s(b=>[ca,b.data.photo?(_(),O(G,{key:0,src:u(b.data.photo),alt:"Image",width:"50",preview:""},null,8,["src"])):C("",!0)]),_:1},8,["header"]),l(P,{field:"comment",header:o.$t("comment"),sortable:!0,headerStyle:"width:64%;"},{body:s(b=>[ma,p(" "+a(b.data.comment[X(Z)]),1)]),_:1},8,["header"]),l(P,{field:"main_photo",header:o.$t("main_photo"),sortable:!0,headerStyle:"width:14%;"},{body:s(b=>[pa,b.data.main_photo?(_(),O(H,{key:0,icon:"pi pi-check",style:{"background-color":"#4ade80",color:"#000"},shape:"circle"})):(_(),O(H,{key:1,icon:"pi pi-times",style:{"background-color":"#ff0000",color:"#fff"},shape:"circle"}))]),_:1},8,["header"]),l(P,{header:o.$t("actions"),headerStyle:"min-width:10rem;"},{body:s(b=>[e("button",{class:"o-button o-button-warning mr-2",onClick:oe=>te(b.data)},ha,8,va),e("button",{class:"o-button o-button-danger",onClick:oe=>le(b.data.id)},ba,8,fa)]),_:1},8,["header"])]),_:1},8,["filters","value","loading"]),l(W,{visible:g.value,"onUpdate:visible":f[8]||(f[8]=b=>g.value=b),style:{width:"750px"},header:t.value.id?o.$t("edit"):o.$t("add"),modal:!0,class:"p-fluid"},{footer:s(()=>[l(N,{label:o.$t("cancel"),icon:"pi pi-times",class:"text-red-400",text:"",onClick:J},null,8,["label"]),l(N,{label:o.$t("save"),icon:"pi pi-check",text:"",onClick:ee},null,8,["label"])]),default:s(()=>{var b,oe,K,re,ne;return[e("div",ya,[e("div",ga,[e("label",ka,[p(a(o.$t("oz")),1),wa]),l(d,{id:"oz",modelValue:t.value.comment1,"onUpdate:modelValue":f[3]||(f[3]=j=>t.value.comment1=j),modelModifiers:{trim:!0},required:"true",invalid:v.value&&((b=t.value.comment1)==null?void 0:b.length)<3},null,8,["modelValue","invalid"]),v.value&&t.value.comment1.length<3?(_(),I("small",Ia,"1) "+a(o.$t("field_required"))+". 2) "+a(o.$t("min_length"))+" 3",1)):C("",!0)]),e("div",Va,[e("label",Ca,[p(a(o.$t("ru")),1),Sa]),l(d,{id:"ru",modelValue:t.value.comment2,"onUpdate:modelValue":f[4]||(f[4]=j=>t.value.comment2=j),modelModifiers:{trim:!0},required:"true",invalid:v.value&&((oe=t.value.comment2)==null?void 0:oe.length)<3},null,8,["modelValue","invalid"]),v.value&&t.value.comment2.length<3?(_(),I("small",Ta,"1) "+a(o.$t("field_required"))+". 2) "+a(o.$t("min_length"))+" 3",1)):C("",!0)])]),e("div",Ua,[e("div",Da,[e("label",Ma,[p(a(o.$t("uz")),1),Aa]),l(d,{id:"uz",modelValue:t.value.comment3,"onUpdate:modelValue":f[5]||(f[5]=j=>t.value.comment3=j),modelModifiers:{trim:!0},required:"true",invalid:v.value&&((K=t.value.comment3)==null?void 0:K.length)<3},null,8,["modelValue","invalid"]),v.value&&t.value.comment3.length<3?(_(),I("small",qa,"1) "+a(o.$t("field_required"))+". 2) "+a(o.$t("min_length"))+" 3",1)):C("",!0)]),e("div",Na,[e("label",Fa,a(o.$t("main_photo")),1),l(Q,{id:"main_photo",modelValue:t.value.main_photo,"onUpdate:modelValue":f[6]||(f[6]=j=>t.value.main_photo=j),options:[{id:0,label:o.$t("no")},{id:1,label:o.$t("yes")}],label:o.label,reduce:j=>j.id,clearable:!1,placeholder:o.$t("select")},null,8,["modelValue","options","label","reduce","placeholder"]),v.value&&((re=t.value.main_photo)==null?void 0:re.length)<1?(_(),I("small",za,a(o.$t("field_required")),1)):C("",!0)])]),e("div",Pa,[e("label",Ba,[p(a(o.$t("photo")),1),ja]),l(w,{name:"demo[]",ref_key:"image",ref:V,onUpload:f[7]||(f[7]=j=>o.onAdvancedUpload(j)),multiple:!1,accept:"image/*"},{header:s(({chooseCallback:j,clearCallback:ce,files:y})=>[e("div",Ra,[e("div",Ea,[l(N,{onClick:se=>j(),icon:"pi pi-images",style:{width:"30px",height:"30px"},rounded:"",outlined:""},null,8,["onClick"]),l(N,{onClick:se=>ce(),icon:"pi pi-times",rounded:"",outlined:"",style:{width:"30px",height:"30px"},severity:"danger",disabled:!y||y.length===0},null,8,["onClick","disabled"])])])]),empty:s(()=>[e("div",Ga,[t.value.photo?(_(),O(G,{key:0,src:u(t.value.photo),alt:"Image",width:"150",preview:""},null,8,["src"])):(_(),I("i",Wa))])]),_:1},512),v.value&&!t.value.photo&&!((ne=V.value)!=null&&ne.files[0])?(_(),I("small",Ha,a(o.$t("field_required")),1)):C("",!0)])]}),_:1},8,["visible","header"]),l(W,{visible:i.value,"onUpdate:visible":f[10]||(f[10]=b=>i.value=b),style:{width:"450px"},header:o.$t("confirmation"),modal:!0},{footer:s(()=>[l(N,{label:"No",icon:"pi pi-times",text:"",onClick:f[9]||(f[9]=b=>i.value=!1)}),l(N,{label:"Yes",icon:"pi pi-check",text:"",onClick:ae})]),default:s(()=>[e("div",La,[Oa,t.value?(_(),I("span",Qa,[p(a(o.$t("are_you_sure_to_delete_this_item"))+" ",1),e("b",null,a(t.value.name),1)])):C("",!0)])]),_:1},8,["visible","header"])],64)}}},Ya={class:"card p-3 mb-2 flex gap-3"},Ja=e("i",{class:"pi pi-arrow-left"},null,-1),Xa=[Ja],Za={class:"flex align-items-center gap-3 m-0 p-0"},eo={__name:"EduReferenceById",setup(Y){const k=Ve(),r=Ce();ie();const{t:Z,locale:D}=de(),F=$();ue(async()=>{F.value=await U.get(`/edu/${k.params.id}`)});function V(g){r.go(-1)}return(g,i)=>{var v;const t=c("TabPanel"),S=c("TabView");return _(),I("div",null,[e("div",Ya,[e("button",{onClick:V,class:"o-button o-button-secondary"},Xa),e("h3",Za,[e("p",null,a(g.$t("edu_name"))+":",1),p(" "+a((v=F.value)==null?void 0:v.data.data[0].school[X(D)]),1)])]),l(S,null,{default:s(()=>[l(t,{header:g.$t("camera")},{default:s(()=>[l(rt,{orgId:X(k).params.id},null,8,["orgId"])]),_:1},8,["header"]),l(t,{header:g.$t("staffs")},{default:s(()=>[l(Lt,{orgId:X(k).params.id},null,8,["orgId"])]),_:1},8,["header"]),l(t,{header:g.$t("guarding_staffs")},{default:s(()=>[l(oa,{orgId:X(k).params.id},null,8,["orgId"])]),_:1},8,["header"]),l(t,{header:g.$t("photo")},{default:s(()=>[l(Ka,{orgId:X(k).params.id},null,8,["orgId"])]),_:1},8,["header"])]),_:1})])}}};export{eo as default};
